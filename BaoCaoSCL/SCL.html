<!DOCTYPE html>
<html lang="vi">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√°o c√°o SCL</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet">
    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="../auth.css">

    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    <link rel="icon" type="image/png" sizes="" href="/assets/LOGO.png">
    
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <style>
    .progress,
    .progress-stacked {
      display: flex;
      height: var(--bs-progress-height);
      overflow: hidden;
      font-size: var(--bs-progress-font-size);
      background-color: #bfbfbf;
      border-radius: var(--bs-progress-border-radius);
    }

    /* ƒê·∫£m b·∫£o kh√¥ng wrap ch·ªØ trong c√°c √¥ */
    .text-nowrap {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .dropdown-menu {
  z-index: 2000 !important;
}


  </style>
  </head>

  <body class="bg-light p-4">
    <img src="../logo.gif" alt width="20%"
      style="display: block; margin: 20px auto;">

    <!-- Tab Nav -->
    <nav>
      <div class="nav nav-tabs justify-content-center" id="nav-tab"
        role="tablist" style="font-size: 20px;">
        <button class="nav-link active" id="nav-baocaoscl-tab"
          data-bs-toggle="tab" data-bs-target="#nav-baocaoscl"
          type="button" role="tab" aria-controls="nav-baocaoscl"
          aria-selected="true">B√°o C√°o SCL</button>
        <button class="nav-link" id="nav-danhsachscl-tab" data-bs-toggle="tab"
          data-bs-target="#nav-danhsachscl"
          type="button" role="tab" aria-controls="nav-danhsachscl"
          aria-selected="false">B√°o c√°o s·∫£n xu·∫•t</button>
        <button class="nav-link" id="nav-dungmayscl-tab" data-bs-toggle="tab"
          data-bs-target="#nav-dungmayscl"
          type="button" role="tab" aria-controls="nav-dungmayscl"
          aria-selected="false">B√°o c√°o d·ª´ng m√°y</button>

      </div>

      <!-- Content tab -->
    </nav>

    <!-- Ph·∫ßn b√°o c√°o -->
    <div class="tab-content" id="nav-tabContent">
      <div class="tab-pane fade show active" id="nav-baocaoscl" role="tabpanel"
        aria-labelledby="nav-baocaoscl-tab"
        tabindex="0">

        <!-- B·∫Øt ƒë·∫ßu b√°o c√°o -->
        <div
          class="container bg-white p-4 rounded shadow position-relative border border-success rounded-top p-3 mt-5 "
          style="border-width: 2px;">

          <div class="d-flex justify-content-end mb-3">
            <button type="button" id="btnResetForm" class="btn btn-warning">
              <i class="fas fa-sync-alt me-1"></i> Ch·∫°y l·∫°i phi·∫øu
            </button>
          </div>

          <div
            class="position-absolute start-50 translate-middle-x px-3 py-1 bg-white border border-primary rounded-pill"
            style="top: -16px;">
            <strong>Th·ªùi gian b·∫Øt ƒë·∫ßu :</strong> <span
              class="text-success fw-bold" id="startTime"></span>
          </div>

          <div class="row g-2">

            <div class="col-md-4">
              <!-- Ch·ªçn m√°y -->
              <div class="form-floating mb-3" style="flex: 1 0 0%;">
                <select class="form-select" id="may" required
                  style="border: 1px solid blue;">
                  <option value selected>-- Ch·ªçn m√°y --</option>
                  <option value="SCL 1">SCL 1</option>
                </select>
                <label for="may">M√°y</label>
              </div>
            </div>

            <div class="col-md-2">
              <!-- Ca + Ng∆∞·ªùi -->
              <div class="d-flex gap-2 mb-3">
                <div class="form-floating" style="flex: 1 0 0%;">
                  <select class="form-select" id="ca" required
                    style="border: 1px solid blue;">
                    <option value selected>-- Ch·ªçn ca --</option>
                    <option value="0">Ca A</option>
                    <option value="1">Ca B</option>
                    <option value="2">Ca HC</option>
                  </select>
                  <label for="ca">Ca</label>
                </div>
              </div>
            </div>

            <div class="col-md-4">
              <!-- GI·ªù l√†m vi·ªác -->
              <div class="d-flex gap-2 mb-3">
                <div class="form-floating" style="flex: 1 0 0%;">
                  <select class="form-select" id="gioLamViec" required
                    style="border: 1px solid blue;">
                    <option value selected>-- Gi·ªù l√†m vi·ªác --</option>
                    <option value="0">6H - 14H</option>
                    <option value="1">14H - 22H</option>
                    <option value="2">22H - 6H</option>
                    <option value="3">10H - 22H</option>
                    <option value="4">6H - 18H</option>
                    <option value="5">18H - 6H</option>
                    <option value="6">7H - 16H</option>
                    <option value="7">7H -15H</option>
                    <option value="8">7H - 17H</option>
                    <option value="9">8H - 17H</option>
                  </select>
                  <label for="gioLamViec">Gi·ªù l√†m vi·ªác</label>
                </div>
              </div>
            </div>

            <div class="col-md-2">
              <div class="form-floating flex-grow-1 disabled ">
                <input type="text" class="form-control bg-info" id="maCa"
                  disabled style="border: 1px solid blue;">
                <label for="maCa">M√£ Ca</label>
              </div>
            </div>

          </div>
          <div class="row g-4">

            <!-- C·ªôt Tr√°i -->
            <div class="col-md-6">
              <div class="row">
                <div class="col">
                  <!-- S·ªë phi·∫øu -->
                  <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="soPhieu"
                      placeholder="S·ªë phi·∫øu Sang cu·ªôn" value="PSC">
                    <label for="soPhieu">S·ªë phi·∫øu Sang cu·ªôn</label>
                  </div>
                </div>

                <div class="col">
                  <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="ws"
                      placeholder="S·ªë WS" disabled style="color: blue;">
                    <label for="ws">S·ªë WS</label>
                  </div>
                </div>
              </div>

              <!-- Th·ª© t·ª± -->
              <div class="form-floating mb-3">
                <select class="form-select" id="thuTu">
                  <option selected>-- Th·ª© t·ª± --</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                </select>
                <label for="thuTu">Th·ª© t·ª±</label>
              </div>
            </div>

            <!-- C·ªôt Ph·∫£i -->
            <div class="col-md-6">

              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="maVatTu"
                  placeholder="M√£ v·∫≠t t∆∞" disabled
                  style="color: blue;">
                <label for="maVatTu">M√£ v·∫≠t t∆∞</label>
              </div>

              <div class="row g-2">
                <div class="col">
                  <div class="form-floating">
                    <input type="text" class="form-control" id="khoCanSang"
                      placeholder="Kh·ªï c·∫ßn sang" disabled
                      style="color: blue;">
                    <label for="khoCanSang">Kh·ªï c·∫ßn sang (mm)</label>
                  </div>
                </div>
                <div class="col">
                  <div class="form-floating">
                    <input type="text" class="form-control" id="khoSanPham"
                      placeholder="Kh·ªï s·∫£n ph·∫©m" disabled
                      style="color: blue;">
                    <label for="khoSanPham">Kh·ªï s·∫£n ph·∫©m (mm)</label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Kh√°ch h√†ng -->
          <div class="form-floating my-4">
            <input type="text" class="form-control" id="khachHang"
              placeholder="Kh√°ch h√†ng" disabled style="color: blue;">
            <label for="khachHang">Kh√°ch h√†ng</label>
          </div>

          <!-- V·ªã tr√≠ -->
          <div class="row g-2 mb-4">
            <div class="col-md-4">
              <div class="d-flex">
                <input type="text" class="form-control rounded-end-0"
                  placeholder="V·ªã tr√≠ 1" disabled
                  style="color: blue;">
                <select class="form-select rounded-start-0" id="viTri1Select">
                  <option value="A">V·ªã tr√≠ A</option>
                  <option value="B">V·ªã tr√≠ B</option>
                  <option value="C">V·ªã tr√≠ C</option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="d-flex">
                <input type="text" class="form-control rounded-end-0"
                  placeholder="V·ªã tr√≠ 2" disabled
                  style="color: blue;">
                <select class="form-select rounded-start-0" id="viTri2Select">
                  <option value="A">V·ªã tr√≠ A</option>
                  <option value="B">V·ªã tr√≠ B</option>
                  <option value="C">V·ªã tr√≠ C</option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="d-flex">
                <input type="text" class="form-control rounded-end-0"
                  placeholder="V·ªã tr√≠ 3" disabled
                  style="color: blue;">
                <select class="form-select rounded-start-0" id="viTri3Select">
                  <option value="A">V·ªã tr√≠ A</option>
                  <option value="B">V·ªã tr√≠ B</option>
                  <option value="C">V·ªã tr√≠ C</option>
                </select>
              </div>
            </div>
          </div>

          <!-- M√£ s·ªë cu·ªôn, ID, Tr·ªçng l∆∞·ª£ng -->
          <div class="row g-3">
            <div class="col-md-4">
              <div class="mb-3">
                <label class="form-label fw-bold">M√£ s·ªë cu·ªôn</label>
                <div class="mb-2">
                  <select class="form-select" id="maSoCuonSelect">
                    <option value selected>-- Ch·ªçn m√£ s·ªë cu·ªôn --</option>
                    <option value="T∆Ø∆†NG T·ª∞ CU·ªòN TR√äN">T∆Ø∆†NG T·ª∞ CU·ªòN
                      TR√äN</option>
                    <option value="GI·∫§Y KH CUNG C·∫§P">GI·∫§Y KH CUNG C·∫§P</option>
                    <option value="KH√îNG C√ì M√É S·ªê CU·ªòN">KH√îNG C√ì M√É S·ªê
                      CU·ªòN</option>
                    <option value="nhap">Nh·∫≠p m√£ s·ªë cu·ªôn...</option>
                  </select>
                </div>
                <div id="maSoCuonInputContainer" style="display: none;">
                  <input type="text" id="maSoCuon" class="form-control"
                    placeholder="Nh·∫≠p m√£ s·ªë cu·ªôn...">
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <label class="form-label fw-bold">S·ªë ID (8 s·ªë)</label>

                <div class="form-check">
                  <input class="form-check-input" type="radio" name="chonSoID"
                    id="khongCoID" value="none" checked>
                  <label class="form-check-label" for="khongCoID">
                    Kh√¥ng c√≥ s·ªë ID
                  </label>
                </div>

                <div class="form-check mb-2">
                  <input class="form-check-input" type="radio" name="chonSoID"
                    id="nhapSoID" value="input">
                  <label class="form-check-label" for="nhapSoID">
                    Nh·∫≠p s·ªë ID (8 s·ªë)
                  </label>
                </div>

                <input type="text" id="inputSoID" class="form-control mb-1"
                  placeholder="Nh·∫≠p s·ªë ID" maxlength="10"
                  disabled>
                <small class="text-muted">V√≠ d·ª•: GC12345678 ho·∫∑c GS12345678 (d√£y
                  tr√™n tem th·ªÉ hi·ªán)</small>
              </div>

            </div>
            <div class="col-md-4">
              <div class="form-floating">
                <input type="text" class="form-control" id="trongLuong"
                  placeholder="Tr·ªçng l∆∞·ª£ng">
                <label for="trongLuong">Tr·ªçng l∆∞·ª£ng nh·∫≠n (kg)</label>
              </div>
            </div>
          </div>

          <!-- N√∫t v√† Ti·∫øn ƒë·ªô -->
          <div class="text-center mt-5">
            <div class="text-success fw-bold mb-2"></div>
            <!-- <div class="progress mb-3 " style="height: 10px;">
          <div class="progress-bar bg-success" style="width: 60%;"></div>
        </div>
        <span class="ms-2">30%</span> -->
            <div class="d-flex justify-content-between align-items-center">
              <div style="width: 100%;">
                <div class="progress" style="height: 10px;">
                  <div class="progress-bar bg-success" role="progressbar"
                    style="width: 0%;" aria-valuenow="0"
                    aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <span class="ms-2"></span>
            </div>
            <button class="btn btn-success px-5 mt-3">B·∫Øt ƒê·∫ßu</button>
          </div>

        </div>

        <!-- Ph·∫ßn k·∫øt th√∫c b√°o c√°o -->

        <div
          class="container bg-white p-4 rounded shadow position-relative border border-danger rounded-top p-3 mt-5"
          style="border-width: 2px;">
          <div class="row ">
            <div class="col-6">
              <label class="fw-bold">Kh·ªï c·∫ßn sang (mm)</label>
              <div class="d-flex gap-2">
                <input type="text" class="form-control " disabled>
                <input type="text" class="form-control " disabled>
                <input type="text" class="form-control " disabled>
              </div>
            </div>
            <div class="col-6">

              <div class="row g-2">
                <div class="col">
                  <div class="mb-3">
                    <label class="fw-bold">S·ªë m√©t (m)</label>
                    <input type="text" class="form-control bg-white">
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label class="fw-bold">S·ª≠ d·ª•ng</label>
                    <select class="form-select">
                      <option value>-- T√πy ch·ªçn MSC--</option>
                      <option value="0">0 - Ch·∫°y h·∫øt cu·ªôn</option>
                      <option value="1">1 - Ch·∫°y kh√¥ng h·∫øt cu·ªôn (Ch·∫°y
                        l·ª°)</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col-6">
              <label class="fw-bold">S·ªë kg nh·∫≠p tay (kg)</label>
              <div class="d-flex gap-2 mb-3">
                <input type="text" class="form-control bg-white">
                <input type="text" class="form-control bg-white">
                <input type="text" class="form-control bg-white">
              </div>

              <div class="mb-3">
                <label class="fw-bold">Ghi ch√∫</label>
                <textarea class="form-control bg-white" rows="2"></textarea>
              </div>

              <!-- D·ª´ng m√°y -->
              <div
                class="p-3 rounded d-flex align-items-center justify-content-between position-relative overflow-hidden"
                style="margin-top: 15px; background: linear-gradient(270deg, #D00000, #FF7272, #FFE0E0, #FF7272, #D00000); background-size: 500% 500%; animation: triColorGradient 4s ease infinite; box-shadow: 0 5px 15px rgba(208, 0, 0, 0.5); border: 2px solid #D00000; width: 80%; margin: 0 auto;">
                <div class="pulse-effect"></div>
                <div class="d-flex align-items-center position-relative"
                  style="z-index: 2;">
                  <span class="text-warning me-2"
                    style="font-size: 1.5rem; animation: warningPulse 1s infinite;">‚ö†</span>
                  <span class="text-white fw-bold"
                    style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5); font-size: 1.2rem; letter-spacing: 1px;">D·ª™NG
                    M√ÅY</span>
                </div>
                <div class="d-flex position-relative" style="z-index: 2;">
                  <button id="btnNo" class="btn border me-2 px-4 fw-bold"
                    style="background-color: #4a90e2; color: white; box-shadow: 0 4px 8px rgba(0,0,0,0.3); transform: translateY(0); transition: all 0.2s; border-color: #3a80d2;"
                    onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)';"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.3)';">KH√îNG</button>
                  <button id="btnYes" class="btn btn-light border px-4 fw-bold"
                    style="box-shadow: 0 4px 8px rgba(0,0,0,0.3); transform: translateY(0); transition: all 0.2s;"
                    onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.3)';"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.3)';">C√ì</button>
                </div>
              </div>

            </div>
            <div class="col-6">
              <div class="row g-2">
                <div class="col">
                  <div class="mb-3">
                    <label class="fw-bold">Ph·∫ø li·ªáu ƒë·∫ßu cu·ªôn (kg)</label>
                    <input type="text" id="pheLieuDauCuon"
                      class="form-control bg-white">
                    <small class="text-muted">VD: 1.0</small>
                  </div>
                </div>
                <div class="col">
                  <div class="mb-3">
                    <label class="fw-bold">Ph·∫ø li·ªáu s·∫£n xu·∫•t (kg)</label>
                    <input type="text" id="pheLieuSanXuat"
                      class="form-control bg-white">
                    <small class="text-muted">Ph·∫ø li·ªáu trong qu√° tr√¨nh s·∫£n xu·∫•t.
                      VD:
                      4.5</small>
                  </div>
                </div>
              </div>

              <div class="mb-3">
                <label class="fw-bold text-danger">Sai kh·ªï (mm)</label>
                <div class="d-flex gap-2">
                  <input type="text" class="form-control bg-light"
                    placeholder="Kh·ªï sai 1" id="khoSai1">
                  <input type="text" class="form-control bg-light"
                    placeholder="Kh·ªï sai 2" id="khoSai2">
                  <input type="text" class="form-control bg-light"
                    placeholder="Kh·ªï sai 3" id="khoSai3">
                </div>
              </div>
              <div class="mb-3">
                <label class="fw-bold text-danger">S·ªë m√©t sai (mm)</label>
                <input type="text" class="form-control bg-white" id="soMetSai"
                  placeholder="Nh·∫≠p s·ªë m√©t sai">
              </div>
              <div class="mb-3">
                <label class="fw-bold text-warning mb-1">Tr·ªçng l∆∞·ª£ng ch·∫°y sai
                  (kg)</label>
                <div class="d-flex gap-2">
                  <input type="text" class="form-control  "
                    placeholder="TL ch·∫°y sai 1" id="tlChayScai1" readonly
                    disabled>
                  <input type="text" class="form-control  "
                    placeholder="TL ch·∫°y sai 2" id="tlChaySai2" readonly
                    disabled>
                  <input type="text" class="form-control  "
                    placeholder="TL ch·∫°y sai 3" id="tlChaySai3" readonly
                    disabled>
                </div>
              </div>
            </div>
          </div>

          <!-- Ph·∫ßn B√°o C√°o D·ª´ng M√°y -->
          <div class="mt-4 mb-4 p-3 border border-danger rounded machine-report"
            id="machineReport"
            style="width: 70%; margin: 0 auto; background-color: #FFC9CD;">
            <h5 class="text-center fw-bold mb-3">B√ÅO C√ÅO D·ª™NG M√ÅY</h5>

            <div class="row mb-3">
              <div class="col-4">
                <label class="fw-bold mb-1">L√Ω do d·ª´ng m√°y</label>
                <select class="form-select" id="stopReason">
                  <option value>-- L√Ω do --</option>
                  <option value="M√°y h∆∞">F1 : M√°y h∆∞</option>
                  <option value="Ch·ªù gi·∫•y">F2 : Ch·ªù gi·∫•y</option>
                  <option value="Ch·ªù ti·∫øp th·ªã">F3 : B·∫£o tr√¨ ƒë·ªãnh k·ª≥</option>
                  <option value="Ch·ªù k·∫ø ho·∫°ch">F4 : Ch·ªù k·∫ø ho·∫°ch</option>
                  <option value="V·ªá sinh">F5 : V·ªá sinh</option>
                  <option value="Kh√°c">F6 : Kh√°c</option>
                  <option value="B·∫£o d∆∞·ª°ng">F7 : B·∫£o d∆∞·ª°ng</option>
                  <option value="S·ª≠a k·∫Ωm">F8 : S·ª≠a k·∫Ωm</option>
                  <option value="Thay su">F9 : Thay su</option>
                  <option value="CH·ªú KH√ÅCH T·ªöI K√ù B√ÄI">F10 : CH·ªú KH√ÅCH T·ªöI K√ù
                    B√ÄI</option>
                  <option value="C·∫Øt b·∫£ng DB">F11 : C·∫Øt b·∫£ng DB</option>
                  <option value="Gi·∫£i lao">F12 : Gi·∫£i lao</option>
                  <option value="C√∫p ƒëi·ªán">F13 : C√∫p ƒëi·ªán</option>
                </select>
              </div>

              <div class="col-4 time-inputs" style="display: none;">
                <label class="fw-bold mb-1">Th·ªùi gian d·ª´ng m√°y</label>
                <div class="position-relative">
                  <input type="datetime-local" class="form-control"
                    id="stopTimeInput">
                  <button
                    class="btn btn-primary position-absolute top-0 end-0 h-100"
                    id="stopTimeButton"
                    style="z-index: 20; opacity: 1; pointer-events: auto; cursor: pointer !important;">
                    D·ª´ng m√°y
                  </button>
                </div>
                <div class="form-text" id="stopTimeDisplay"></div>
              </div>

              <div class="col-4 time-inputs" style="display: none;">
                <label class="fw-bold mb-1">Th·ªùi gian ch·∫°y l·∫°i</label>
                <div class="position-relative">
                  <input type="datetime-local" class="form-control"
                    id="resumeTimeInput">
                  <button
                    class="btn btn-success position-absolute top-0 end-0 h-100"
                    id="resumeTimeButton"
                    style="z-index: 10;">
                    Ch·∫°y l·∫°i
                  </button>
                </div>
                <div class="form-text" id="resumeTimeDisplay"></div>
              </div>
            </div>

            <div class="row mb-3 additional-fields" style="display: none;">
              <div class="col-8">
                <label class="fw-bold mb-1">L√Ω do kh√°c</label>
                <input type="text" class="form-control"
                  placeholder="Nh·∫≠p l√Ω do..." id="otherReason">
              </div>
              <div class="col-4">
                <label class="fw-bold mb-1 text-primary">Th·ªùi gian d·ª´ng
                  m√°y</label>
                <input type="text" class="form-control bg-light"
                  id="stopDuration" readonly>
              </div>
            </div>

            <div class="d-flex justify-content-end">
              <button class="btn btn-danger">
                <i class="bi bi-trash">üóëÔ∏è</i>
              </button>
            </div>

            <!-- Container cho c√°c l√Ω do b·ªï sung s·∫Ω ƒë∆∞·ª£c th√™m t·∫°i ƒë√¢y -->
            <div id="additionalReasonsContainer"></div>

            <!-- N√∫t th√™m l√Ω do m·ªõi -->
            <!-- <div class="row mt-4 mb-3 add-reason-section" style="display: none;">
            <div class="col-12">
              <hr>
              <button id="addReasonBtn" class="btn btn-primary w-100">
                <i class="bi bi-plus-circle me-2">+</i> Th√™m l√Ω do d·ª´ng m√°y
              </button>
            </div>
          </div> -->

          </div>

          <!-- <div class="row mb-3">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
              <div style="width: 100%;">
                <div class="progress" style="height: 10px;">
                  <div class="progress-bar bg-danger" role="progressbar" style="width: 30%;" aria-valuenow="0"
                    aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <span class="ms-2"></span>
            </div>
          </div>
        </div> -->

          <div class="row">
            <div class="col-12 d-flex justify-content-end">
              <button class="btn btn-primary">X√°c nh·∫≠n</button>
            </div>
          </div>
        </div>

      </div>

      <!-- Ph·∫ßn danh s√°ch b√°o c√°o -->
      <div class="tab-pane fade" id="nav-danhsachscl" role="tabpanel"
        aria-labelledby="nav-danhsachscl-tab" tabindex="0">

        <div class="mx-5 bg-white p-4 rounded shadow mt-4 ">
          <h2 class="mb-4 text-success text-center">Danh s√°ch b√°o c√°o SCL</h2>

          <!-- Ph·∫ßn t√¨m ki·∫øm v√† l·ªçc -->
          <div class="row mb-4">
            <div class="col-md-3">
              <div class="input-group mb-2">
                <input type="text" class="form-control" id="searchInput"
                  placeholder="T√¨m ki·∫øm...">
                <button class="btn btn-outline-secondary" type="button"
                  id="btnSearch">
                  <i class="fas fa-search"></i>
                </button>
              </div>
              <div class>
                <select class="form-select mb-2" id="caFilter">
                  <option value>-- T·∫•t c·∫£ ca --</option>
                  <option value="0">Ca A</option>
                  <option value="1">Ca B</option>
                  <option value="2">Ca HC</option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="date-filter-container border rounded p-2 mb-2">
                <div class="row g-2">
                  <div class="col-5">
                    <label for="startDateFilter"
                      class="form-label small mb-1">T·ª´ ng√†y:</label>
                    <input type="datetime-local"
                      class="form-control form-control-sm" id="startDateFilter">
                  </div>
                  <div class="col-5">
                    <label for="endDateFilter" class="form-label small mb-1">ƒê·∫øn
                      ng√†y:</label>
                    <input type="datetime-local"
                      class="form-control form-control-sm" id="endDateFilter">
                  </div>
                  <div class="col-2">
                    <label class="form-label small mb-1">&nbsp;</label>
                    <div class="d-grid gap-1">
                      <button class="btn btn-primary btn-sm" id="btnDateFilter">
                        <i class="fas fa-filter"></i> L·ªçc
                      </button>
                      <button class="btn btn-outline-secondary btn-sm"
                        id="btnClearDateFilter">
                        <i class="fas fa-times"></i> X√≥a
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Ch·ªçn s·ªë m·ª•c hi·ªÉn th·ªã -->
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div>
              <span>Hi·ªÉn th·ªã </span>
              <select id="itemsPerPage"
                class="form-select form-select-sm d-inline-block w-auto mx-1">
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
                <option value="100">100</option>
              </select>
              <span> m·ª•c</span>
            </div>
            <div class="d-flex justify-content-between align-items-center ">
              <div id="totalItems">T·ªïng s·ªë: 0 b·∫£n ghi</div>
              <button class="btn btn-success btn-sm ms-3" id="btnFixColumns">
                <i class="fas fa-thumbtack me-1"></i> C·ªë ƒë·ªãnh c·ªôt
              </button>
            </div>

          </div>

          <!-- B·∫£ng danh s√°ch -->
          <div class="table-responsive">
            <table
              class="table table-striped table-hover table-bordered text-center">
              <thead class="table-light">
                <tr>
                  <th class="text-nowrap" style="min-width: 120px;">Thao
                    t√°c</th>
                  <th class="text-nowrap" style="min-width: 60px;">STT</th>
                  <th class="text-nowrap" style="min-width: 150px;">Ca + Ng∆∞·ªùi
                    th·ª±c hi·ªán</th>
                  <th class="text-nowrap" style="min-width: 100px;">Ng√†y</th>
                  <th class="text-nowrap" style="min-width: 120px;">S·ªë Phi·∫øu
                    SC</th>
                  <th class="text-nowrap" style="min-width: 80px;">S·ªë l·∫ßn</th>
                  <th class="text-nowrap" style="min-width: 120px;">S·ªë
                    Worksheet</th>
                  <th class="text-nowrap" style="min-width: 150px;">Kh√°ch
                    h√†ng</th>
                  <th class="text-nowrap" style="min-width: 250px;">M√£ gi·∫•y</th>
                  <th class="text-nowrap" style="min-width: 120px;">ƒê·ªãnh
                    L∆∞·ª£ng</th>
                  <th class="text-nowrap" style="min-width: 100px;">Kh·ªï
                    (mm)</th>
                  <th class="text-nowrap" style="min-width: 120px;">So s√°nh
                    kh·ªï</th>
                  <th class="text-nowrap" style="min-width: 180px;">M√£ s·ªë
                    cu·ªôn</th>
                  <th class="text-nowrap" style="min-width: 80px;">TLN</th>
                  <th class="text-nowrap" style="min-width: 200px;">TG B·∫ÆT
                    ƒê·∫¶U</th>
                  <th class="text-nowrap" style="min-width: 200px;">TG K·∫øt
                    Th√∫c</th>
                  <th class="text-nowrap" style="min-width: 160px;">Kh·ªï s·∫£n ph·∫©m
                    (mm)</th>
                  <th class="text-nowrap" style="min-width: 160px;">Kh·ªï c·∫ßn sang
                    (mm)</th>
                  <th class="text-nowrap" style="min-width: 100px;">Kh·ªï 1</th>
                  <th class="text-nowrap" style="min-width: 100px;">Kh·ªï 2</th>
                  <th class="text-nowrap" style="min-width: 100px;">Kh·ªï 3</th>
                  <th class="text-nowrap" style="min-width: 100px;">S·ªë m√©t</th>
                  <th class="text-nowrap" style="min-width: 150px;">Ho√†n th√†nh
                    cu·ªôn</th>
                  <th class="text-nowrap" style="min-width: 100px;">Nh·∫≠p kho
                    1</th>
                  <th class="text-nowrap" style="min-width: 100px;">Nh·∫≠p kho
                    2</th>
                  <th class="text-nowrap" style="min-width: 100px;">Nh·∫≠p kho
                    3</th>
                  <th class="text-nowrap" style="min-width: 100px;">Tr·∫£ kho</th>
                  <th class="text-nowrap" style="min-width: 180px;">Ph·∫ø li·ªáu ƒë·∫ßu
                    cu·ªôn (Kg)</th>
                  <th class="text-nowrap" style="min-width: 180px;">Ph·∫ø li·ªáu s·∫£n
                    xu·∫•t (Kg)</th>
                  <th class="text-nowrap" style="min-width: 100px;">S·ªë cu·ªôn</th>
                  <th class="text-nowrap" style="min-width: 150px;">Ghi ch√∫</th>
                  <th class="text-nowrap" style="min-width: 120px;">Th·ª© t·ª±
                    cu·ªôn</th>
                  <th class="text-nowrap" style="min-width: 100px;">S·ªë ID</th>
                  <th class="text-nowrap" style="min-width: 100px;">V·ªã tr√≠
                    1</th>
                  <th class="text-nowrap" style="min-width: 100px;">V·ªã tr√≠
                    2</th>
                  <th class="text-nowrap" style="min-width: 100px;">V·ªã tr√≠
                    3</th>
                  <th class="text-nowrap" style="min-width: 180px;">Tr·ªçng l∆∞·ª£ng
                    c√¢n l·∫°i 1</th>
                  <th class="text-nowrap" style="min-width: 180px;">Tr·ªçng l∆∞·ª£ng
                    c√¢n l·∫°i 2</th>
                  <th class="text-nowrap" style="min-width: 180px;">Tr·ªçng l∆∞·ª£ng
                    c√¢n l·∫°i 3</th>
                  <th class="text-nowrap" style="min-width: 150px;">S·ªë m√©t ch·∫°y
                    sai</th>
                  <th class="text-nowrap" style="min-width: 150px;">Kh·ªï sai 1
                    (mm)</th>
                  <th class="text-nowrap" style="min-width: 150px;">Kh·ªï sai 2
                    (mm)</th>
                  <th class="text-nowrap" style="min-width: 150px;">Kh·ªï sai 3
                    (mm)</th>
                  <th class="text-nowrap" style="min-width: 200px;">Tr·ªçng l∆∞·ª£ng
                    ch·∫°y sai 1 (kg)</th>
                  <th class="text-nowrap" style="min-width: 200px;">Tr·ªçng l∆∞·ª£ng
                    ch·∫°y sai 2 (kg)</th>
                  <th class="text-nowrap" style="min-width: 200px;">Tr·ªçng l∆∞·ª£ng
                    ch·∫°y sai 3 (kg)</th>
                </tr>
              </thead>
              <tbody id="reportTableBody">
                <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y -->
              </tbody>
            </table>
          </div>

          <!-- Ph√¢n trang -->
          <div class="d-flex justify-content-between align-items-center mt-4">
            <div>
              <span id="pageInfo">Hi·ªÉn th·ªã 0-0 c·ªßa 0</span>
            </div>
            <nav aria-label="Page navigation">
              <ul class="pagination" id="pagination">
                <li class="page-item">
                  <a class="page-link" href="#" id="firstPage">Trang ƒë·∫ßu</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#" id="prevPage">Trang tr∆∞·ªõc</a>
                </li>
                <!-- C√°c n√∫t trang s·ªë s·∫Ω ƒë∆∞·ª£c th√™m ·ªü ƒë√¢y -->
                <li class="page-item">
                  <a class="page-link" href="#" id="nextPage">Trang sau</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#" id="lastPage">Trang cu·ªëi</a>
                </li>
              </ul>
            </nav>
          </div>

          <div class="d-flex justify-content-start mt-4">
            <button class="btn btn-success" id="btnExportExcel">
              <i class="fas fa-file-excel me-2"></i>
              Xu·∫•t Excel
            </button>
          </div>
        </div>

      </div>

      <!-- Ph·∫ßn d·ª´ng m√°y c·ªßa b√°o c√°o -->
      <div class="tab-pane fade" id="nav-dungmayscl" role="tabpanel"
        aria-labelledby="nav-dungmayscl-tab" tabindex="0">

        <div class="mx-5 bg-white p-4 rounded shadow mt-4">
          <h2 class="mb-4 text-danger text-center">Danh s√°ch b√°o c√°o d·ª´ng
            m√°y</h2>

          <!-- Ph·∫ßn t√¨m ki·∫øm v√† l·ªçc -->
          <!-- <div class="row mb-4">
          <div class="col-md-3">
            <div class="input-group mb-2">
              <input type="text" class="form-control" id="searchStopInput" placeholder="T√¨m ki·∫øm...">
              <button class="btn btn-outline-secondary" type="button" id="btnSearchStop">
                <i class="fas fa-search"></i>
              </button>
            </div>
            <div class="">
              <select class="form-select mb-2" id="caStopFilter">
                <option value="">-- T·∫•t c·∫£ ca --</option>
                <option value="0">Ca A</option>
                <option value="1">Ca B</option>
                <option value="2">Ca HC</option>
              </select>
            </div>
          </div>
          
        </div> -->

          <!-- Ch·ªçn s·ªë m·ª•c hi·ªÉn th·ªã -->
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div>
              <span>Hi·ªÉn th·ªã </span>
              <select id="itemsPerStopPage"
                class="form-select form-select-sm d-inline-block w-auto mx-1">
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
                <option value="100">100</option>
              </select>
              <span> m·ª•c</span>
            </div>
            <div id="totalStopItems">T·ªïng s·ªë: 0 b·∫£n ghi</div>
          </div>

          <!-- B·∫£ng danh s√°ch -->
          <div class="table-responsive">
            <table
              class="table table-striped table-hover table-bordered text-center">
              <thead class="table-light">
                <tr>
                  <th class="text-nowrap" style="min-width: 60px;">STT</th>
                  <th class="text-nowrap" style="min-width: 150px;">Ca + Ng∆∞·ªùi
                    th·ª±c hi·ªán</th>
                  <th class="text-nowrap" style="min-width: 120px;">S·ªë
                    Worksheet</th>
                  <th class="text-nowrap" style="min-width: 120px;">S·ªë Phi·∫øu
                    SC</th>
                  <th class="text-nowrap" style="min-width: 180px;">Th·ªùi gian
                    d·ª´ng m√°y</th>
                  <th class="text-nowrap" style="min-width: 180px;">Th·ªùi gian
                    ch·∫°y l·∫°i</th>
                  <th class="text-nowrap" style="min-width: 180px;">Th·ªùi gian
                    d·ª´ng</th>
                  <th class="text-nowrap" style="min-width: 200px;">L√Ω do d·ª´ng
                    m√°y</th>
                  <th class="text-nowrap" style="min-width: 200px;">Ghi ch√∫</th>
                  <th class="text-nowrap" style="min-width: 120px;">Thao
                    t√°c</th>
                </tr>
              </thead>
              <tbody id="stopReportTableBody">

              </tbody>
            </table>
          </div>

          <!-- Ph√¢n trang -->
          <div class="d-flex justify-content-between align-items-center mt-4">
            <div>
              <span id="stopPageInfo">Hi·ªÉn th·ªã 0-0 c·ªßa 0</span>
            </div>
            <nav aria-label="Page navigation">
              <ul class="pagination" id="stopPagination">
                <li class="page-item">
                  <a class="page-link" href="#" id="firstStopPage">Trang ƒë·∫ßu</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#" id="prevStopPage">Trang
                    tr∆∞·ªõc</a>
                </li>
                <!-- C√°c n√∫t trang s·ªë s·∫Ω ƒë∆∞·ª£c th√™m ·ªü ƒë√¢y -->
                <li class="page-item">
                  <a class="page-link" href="#" id="nextStopPage">Trang sau</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#" id="lastStopPage">Trang cu·ªëi</a>
                </li>
              </ul>
            </nav>
          </div>
        </div>

      </div>

    </div>

    <script src="./script.js"></script>
    <script src="../auth.js"></script>
    <script src="../utils.js"></script>
    <!-- <script src="./fix-bug.js"></script>
  <script src="./fix-dung-may.js"></script> -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
    // PH·∫¶N ID 8 S·ªê
    //  h√†m ki·ªÉm tra format ID
function validateSoID(idValue) {
  // Ki·ªÉm tra format: 2 k√Ω t·ª± ch·ªØ + 8 s·ªë
  const idRegex = /^[A-Za-z]{2}\d{8}$/;
  return idRegex.test(idValue);
}

// S·ª≠a text m√¥ t·∫£
const idDescription = document.querySelector('#nhapSoID').closest('.mb-3').querySelector('small');
if (idDescription) {
  idDescription.textContent = 'V√≠ d·ª•: AB12345678 (2 k√Ω t·ª± ch·ªØ + 8 s·ªë)';
}

//  ki·ªÉm tra khi nh·∫≠p ID
document.getElementById('inputSoID').addEventListener('input', function() {
  if (this.value && !validateSoID(this.value)) {
    this.classList.add('is-invalid');
    // T·∫°o th√¥ng b√°o l·ªói n·∫øu ch∆∞a c√≥
    if (!this.nextElementSibling || !this.nextElementSibling.classList.contains('invalid-feedback')) {
      const feedback = document.createElement('div');
      feedback.classList.add('invalid-feedback');
      feedback.textContent = 'ID ph·∫£i c√≥ 2 k√Ω t·ª± ch·ªØ + 8 s·ªë (VD: AB12345678)';
      this.after(feedback);
    }
  } else {
    this.classList.remove('is-invalid');
  }
});
  </script>
  </body>

</html>